See https://github.com/DFE/HidaV/wiki/Safe-Update-and-boot-fallbacks for concept documentation.

$ bootconfig help
  bootconfig - show and set HidaV boot configuration
  Usage:
  bootconfig                      Show current boot configuration
  bootconfig info                 Show detailed / raw boot config information
  bootconfig set-kernel <mtd>     Generate new boot configuration which sets <mtd>
                                   to contain the latest kernel image. Clear all flags.
                                   Write results to boot config partition.
  bootconfig set-rootfs <mtd>     Generate new boot configuration which sets <mtd>
                                   to contain the latest root FS image. Clear all flags.
                                   Write results to boot config partition.

$ bootconfig
  image name      MTD partition   epoch   Flags
  current-kernel:  3              56677   B O
  old-kernel:      2              56676   B -
  current-root:    4              76      B O
  old-root:        5              75      - -

$ bootconfig set-kernel mtd2
  Setting current kernel to mtd2.
  Writing to NAND...
  image name      MTD partition   epoch   Flags
  current-kernel:  2              56678   - -
  old-kernel:      3              56677   B O
  current-root:    4              76      B O
  old-root:        5              75      - -

$ bootconfig set-rootfs mtd4
  Setting current root FS to mtd4.
  Writing to NAND...
  image name      MTD partition   epoch   Flags
  current-kernel:  2              56678   - -
  old-kernel:      3              56677   B O
  current-root:    4              76      - -
  old-root:        5              75      - -

$ bootconfig info
  There are 8 boot config blocks:
                epoch   flags
  #1 kernel 1:    1       - -
  #1 kernel 2:    4       B -
  #1 rootfs 1:   19       B O
  #1 rootfs 2:    2       B -
    ---
  #2 kernel 1:    2       B O
  #2 kernel 2:    9       - -
  #2 rootfs 1:    6       B -
  #2 rootfs 2:    1       B O
   ---
...
   ---
  #4 NO MAGIC FOUND
   ---
...
   ---
  #6 BAD BLOCK
   ---
...
  #8 kernel 1:    7       - -
  #8 kernel 2:    3       B -
  #8 rootfs 1:    9       B O
  #8 rootfs 2:    4       B O
 
